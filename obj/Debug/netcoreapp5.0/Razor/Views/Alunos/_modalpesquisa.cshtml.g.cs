#pragma checksum "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f0e98e244ecd0774fabedca890ceed76a6dc4aec"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Alunos__modalpesquisa), @"mvc.1.0.view", @"/Views/Alunos/_modalpesquisa.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\_ViewImports.cshtml"
using Universidade;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\_ViewImports.cshtml"
using Universidade.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f0e98e244ecd0774fabedca890ceed76a6dc4aec", @"/Views/Alunos/_modalpesquisa.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"9d44bdceea62c20bcd4a93b42ab77acc060d0b03", @"/Views/_ViewImports.cshtml")]
    public class Views_Alunos__modalpesquisa : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Universidade.Models.AlunocomCurso>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"
<div>
  <table class=""table"" id=""tabela"">
    <thead>
      <tr>
        <th scope=""col"">Nome</th>
        <th scope=""col"">Data de inicio</th>
        <th scope=""col"">Data de encerramento</th>
        <th scope=""col"">Selecionar</th>
      </tr>
    </thead>
    <tbody>
");
#nullable restore
#line 14 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
       foreach(var item in Model.cursos)
      {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <tr id = \"linha\">\n          <td>");
#nullable restore
#line 17 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
         Write(item.nome);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n          <td>");
#nullable restore
#line 18 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
         Write(item.data_inicio);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n          <td>");
#nullable restore
#line 19 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
         Write(item.data_encerramento);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\n          <td>\n            <div>\n              <input data-value=\"");
#nullable restore
#line 22 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
                            Write(item.id);

#line default
#line hidden
#nullable disable
            WriteLiteral("\" type=\"checkbox\" id=\"add\" name=\"add\">\n            </div>  \n          </td>\n        </tr>\n");
#nullable restore
#line 26 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
      }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
    </tbody>
  </table>
  
    <div class=""box-btn"">
      <button type=""button"" id=""matricular"" class=""btn btn-primary"">Matricular</button>
      <button type=""button"" id=""fechar"" class=""btn btn-danger"" data-dismiss=""modal"">Fechar</button>
    </div>    
  
</div>

<script>
  $(document).off().on('click', '#matricular', matricular);

  function matricular() {  
    
    var url = """);
#nullable restore
#line 43 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
          Write(Url.Action("Matricular", "Alunos"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\";      \n    \n    var id_aluno = parseFloat(\"");
#nullable restore
#line 45 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
                          Write(Model.aluno.id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""");
    var cursos = $('input[name=""add""]:checked').toArray().map(function(check) { 
        return parseFloat($(check).attr(""data-value"")); 
    });
    var ano_ = parseInt(document.getElementById(""_ano"").value);
    var sem = parseInt(document.getElementById(""_semestre"").value);
    //$(this).hide(); //so esconde o botão adicionar

    $.ajax(url, {
      method: 'POST',
      contentType: 'application/json',
      data: JSON.stringify({
          ""aluno_id"":id_aluno,
          ""curso_list"":cursos,
          ""ano"":ano_,
          ""semestre"":sem
      }),
    }).done(function (response) {
      if(response){
        alert(""Matriculado com sucesso!"")
        recarregar()
      }else{
        alert(""Não foi possivel se matricular no curso!"")
      }
    }).fail(function () {
        swal('Atenção', 'Ocorreu um erro!', 'error');
    });
        
  }
  

  function recarregar(){
    var url = """);
#nullable restore
#line 77 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
          Write(Url.Action("ModalFiltro", "Alunos"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\"     \n    var pesquisar = document.getElementById(\"_nome\").value\n    var ano = document.getElementById(\"_ano\").value\n    var sem = document.getElementById(\"_semestre\").value\n    var id_aluno = \"");
#nullable restore
#line 81 "C:\Users\Openk\Desktop\juliano\Projetos Falhados\treinamento-painel-universidade-Juliano\Universidade\Views\Alunos\_modalpesquisa.cshtml"
               Write(Model.aluno.id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"""
    $.ajax(url, {
      method: 'Get',
      data: {aluno_id:id_aluno,
             ano:ano,
             semestre:sem,
             search:pesquisar},
    }).done(function (response) {
      $(""#div_vazia"").html(response)
    }).fail(function () {
        swal('Atenção', 'Ocorreu um erro!', 'error')
    });  

  }

  $(document).on('click', '#fechar', fechar);

  function fechar(){
    location.reload()
  }

</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Universidade.Models.AlunocomCurso> Html { get; private set; }
    }
}
#pragma warning restore 1591
